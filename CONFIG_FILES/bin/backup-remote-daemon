#!/usr/bin/perl
use strict;
use warnings;

my $delay = 2 * 60 * 60;
my $logFile = "/home/user/backup-remote-daemon.log";

sub main(@){
  system "echo started daemon >> $logFile";
  system "date >> $logFile";
  system "echo >> $logFile";
  system "echo >> $logFile";
  system "echo >> $logFile";
  while(1){
    sleep $delay;
    system "date >> $logFile";
    system "backup-remote 2>&1 | tee -a $logFile";
    system "echo >> $logFile";
    system "echo >> $logFile";
    system "echo >> $logFile";
  }
}

&main(@ARGV);
